dataset:
  hf_dataset_id: nlphuji/flickr30k
  split: test
  caption_field: caption
  image_field: image
  mask_root: data/flickr30k_sam
  max_samples: null

model:
  name: openbmb/MiniCPM-Llama3-V-2_5
  trust_remote_code: true
  load_in_4bit: true
  lora_r: 8
  lora_alpha: 16
  lora_dropout: 0.05
  lora_target_modules: [q_proj, k_proj, v_proj, o_proj]
  attention_layers: []
  attention_heads: []

train:
  output_dir: outputs/minicpmv25_attn_ft
  seed: 42
  batch_size: 2
  num_epochs: 1
  max_steps: 1000
  lr: 1.0e-4
  weight_decay: 0.01
  warmup_steps: 100
  grad_accum_steps: 8
  mixed_precision: bf16
  log_every: 10
  save_every: 500
  vision_grid_size: [0, 0]
  image_token_offset: 0
